name: "Build"
'on':
  push:
    branches:
      - master

jobs:
    build:
      strategy:
        matrix:
          include:
            - os: ubuntu-20.04
              cxx: g++ 
            - os: macos-10.15
              cxx: clang++
            - os: macos-10.15
              cxx: g++
        fail-fast: false

      name: "Build"
      runs-on: ${{ matrix.os }}

      steps:
        - name: "Checkout"
          uses: actions/checkout@v2

        - name: "Create build directory"
          run: |
            mkdir -p build

        - name: "Build"
          working-directory: build
          run: |
            cmake ..
            make 
            bash ../examples/run-tests.sh ../examples


